<!DOCTYPE html> 
<html>
    <head>
        <title>Shaggy Rogers</title>
        <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
        <!-- <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script> -->
        <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>


        <!-- //animation components, check if they are current/ -->
        <!-- <script src="https://unpkg.com/aframe-animation-component@5.1.2/dist/aframe-animation-component.min.js"></script> -->
        <!-- <script src="https://unpkg.com/aframe-animation-component@^4.1.1/dist/aframe-animation-timeline-component.min.js"></script>  -->
        <script src="https://unpkg.com/aframe-animation-timeline-component@1.6.0/dist/aframe-animation-timeline-component.min.js"></script> 

    </head>
    <body style="font-family:courier; color:white; background-color: black">
        <section id="main"></section>
        <a-scene id="scene" animation-timeline__1="timeline: #testTimeline; loop: true">
            <a-assets>
                <a-timeline id="testTimeline">
                    <a-timeline-animation select="#testText" name="fadein" ></a-timeline-animation>
                    <a-timeline-animation select="#testText" name="fadeout" offset="500"></a-timeline-animation>
                </a-timeline>
            </a-assets>


 
            <a-mixin id="text"
              text="align: center; color: #fff; width: 6; opacity: 0"
              animation__fadein="property: text.opacity; from: 0; to: 1; dur: 3000; easing: linear; autoplay: false"
              animation__fadeout="property: text.opacity; from: 1; to: 0; dur: 3000; easing: linear; autoplay: false"
              animation__togglevisible="property: visible; from: false; to: true; dur: 1; autoplay: false"
              animation__togglevisibleoff="property: visible; from: true; to: false; dur: 1; autoplay: false"
              position="0 2 -3"
              visible="true">    
          </a-mixin>

            <!-- <a-camera look-controls="pointerLockEnabled: false" near="0.001" wasd-controls>
                <a-cylinder id="fing-longer" position="0.2 -0.4 -0.9" radius="0.01" height= "1.0" rotation="90 0 0" color="beige" opacity="1.0"></a-cylinder>
                <a-entity pos-trail-line="segments: 10000" position="0.2 -0.4 -2"></a-entity>
                <a-entity position="0.2 -0.4 -1.4" cursor="rayOrigin: entity; showLine: true;" raycaster="showLine: true; far: 16" line="color: white; opacity:0.5"></a-entity>
            </a-camera> -->

            <!-- <a-assets>
                <a-asset-item id="fbx-asset" src="cubeSpin.fbx"></a-asset-item>
            </a-assets> -->

            <a-entity id="a" environment="preset: forest; groundColor: #445; grid: cross;"></a-entity>

            <a-entity position="0 0 0">
                <a-camera look-controls="pointerLockEnabled: false" wasd-controls cursor="rayOrigin: mouse" raycaster="objects: .clickable;"></a-camera>
            </a-entity>
            <a-entity laser-controls raycaster="objects: .clickable; far: 5"></a-entity>


            <a-image src='shaggy.png' height='10' width='5' position='0 5 -10'></a-image>
            <!-- <a-image src='shaggy.png' height='1.905' width='0.6088' position='0 0.9525 -0.5'></a-image> -->



            <!-- position="0 1 -2" scale="0.001 0.001 0.001" fbx-model="src: url(cubeSpin.fbx);"> -->
            <a-entity id="test-fbx"
                animation-mixer="
                    duration: 1;

                "
                position="0 1 -2" scale="0.001 0.001 0.001" fbx-model="src: url(cubeSpin.fbx);">
                    
            </a-entity>
            <a-entity id="play-button" position="1 1 -2">
                <a-text value="play"></a-text>
                <a-box class="clickable" color='red' opacity="0.4"></a-box>
            </a-entity>
            <a-text mixin="text" value="TEST" id="testText" position="1 2 -2"></a-text>
        </a-scene>

        <script type="text/javascript">
            const playButton = document.querySelector('#play-button');
            const testFbx = document.querySelector('#test-fbx')

            let bool = true
            playButton.addEventListener('click', () => {
                bool = !bool
                console.log(testFbx)
                if (bool) {
                    // testFbx.stopAction()
                }
            });
        </script>
    </body>
</html>
